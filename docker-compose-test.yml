version: "3.9"
services:
# what happens if this fails? sut doesn't start, need to exit 1
  tohuynhgithubio:
    image: "${TESTING_IMAGE}"
    init: true
    ports:
      - 80:8080
  
  sut:
    image: curlimages/curl
    init: true
    depends_on:
      tohuynhgithubio:
        condition: service_started
    command: curl --fail http://tohuynhgithubio:8080 || exit 1